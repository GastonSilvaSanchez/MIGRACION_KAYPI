<ion-header>
  <ion-toolbar color="{{config.styleApp}}">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      {{'Menu.Parqueos' | translate}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="button-content">
    <ion-button color="danger" expand="block" (click)="showParqueos()">
      {{'Parqueos.VerMapa' | translate}}
    </ion-button>
  </div>
  <ion-list>
    <ion-item-group *ngFor="let parking of parkings">
      <div *ngIf="hayParqueos(parking)">
        <ion-item-divider color="light" (click)="mostrarDetalles(parking)" class="nombreCategoria">
          <ion-label color="primary" *ngIf="parking.color == '#488aff'" class="ion-text-wrap">
            {{parking.NombreCategoria}}</ion-label>
          <ion-label color="danger" *ngIf="parking.color == '#FF0000'" class="ion-text-wrap">{{parking.NombreCategoria}}
          </ion-label>
          <ion-label color="danger" *ngIf="parking.color != '#488aff' && parking.color != '#FF0000'"
            class="ion-text-wrap">{{parking.NombreCategoria}}
          </ion-label>
          <ion-icon ios="ios-arrow-down" md="md-arrow-down" color="medium" *ngIf="parking.Expandido" slot="end"
            item-end></ion-icon>
          <ion-icon ios="ios-arrow-forward" md="md-arrow-forward" color="medium" *ngIf="!parking.Expandido" slot="end"
            item-end>
          </ion-icon>
        </ion-item-divider>
        <div *ngIf="parking.Expandido">
          <ion-item *ngFor="let p of parking.parqueos" class="item">
            <ion-card>
              <ion-card-header>
                <div [ngStyle]="{'background-color': parking.color, 'height': '10px', 'width': '100%'}"></div>
                <ion-card-title>{{p.nombre}}</ion-card-title>
              </ion-card-header>

              <ion-card-content>
                <label><b>{{'Parqueos.Horarios' | translate}}</b></label>
                <p>{{p.descripcion}}</p>
                <label><b>{{'Parqueos.Multas' | translate}}</b></label>
                <p><b> 1.- {{'Parqueos.PrimeraInfraccion' | translate}}:</b> {{p.multa}}</p>
                <p><b> 2.- {{'Parqueos.Reincidencia' | translate}}:</b> {{p.reincidencia}}</p>
                <ng-container *ngIf="p.norma">
                  <label><b>{{'Parqueos.Normativa' | translate}}</b></label>
                  <p>{{p.norma}}</p>
                </ng-container>
              </ion-card-content>
            </ion-card>
          </ion-item>
        </div>
      </div>
    </ion-item-group>
  </ion-list>
</ion-content>